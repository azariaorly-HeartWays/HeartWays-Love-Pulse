<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HeartWays — דמו</title>
<meta name="theme-color" content="#eaf6ff" />
<style>
  :root{
    /* רספונסיביות: ללא גלילה מיותרת גם במסכי מחשב */
    --fs-h1: clamp(1.1rem, .9rem + 1.2vw, 1.6rem);
    --fs-h2: clamp(1rem, .9rem + .9vw, 1.35rem);
    --fs-sub: clamp(.9rem, .85rem + .5vw, 1.05rem);
    --fs-body: clamp(.95rem, .88rem + .35vw, 1.05rem);
    --diam: clamp(92px, 18.5vw, 132px);

    --ink:#0e3a5a; --soft:#2f6a9f; --accent:#2e86ff;
    --glass: rgba(255,255,255,.78);
    --sh: 0 10px 24px rgba(0,0,0,.10);
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:linear-gradient(180deg,#eaf6ff,#ffffff); color:var(--ink);
    display:grid; place-items:center; overflow-x:hidden; padding:clamp(8px,2vw,16px);
  }

  /* אותיות שקופות בתנועה */
  .letters{position:fixed; inset:0; display:grid; place-items:center; pointer-events:none;
    font-weight:900; font-size:14vmin; letter-spacing:.5vmin; opacity:.06; color:#0b2033;
    animation:drift 26s linear infinite; text-align:center; line-height:1.05}
  @keyframes drift{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

  /* קלף זכוכית */
  .card{position:relative; z-index:1; width:min(96vw, 860px);
    background:var(--glass); backdrop-filter:blur(14px) saturate(140%);
    border-radius:20px; padding:clamp(10px,1.8vw,16px); box-shadow:var(--sh); text-align:center}
  @supports not ((backdrop-filter: blur(2px)) or (-webkit-backdrop-filter: blur(2px))){
    .card,.choice,.note,.modal{ background:rgba(255,255,255,.96); }
  }

  /* לוגו ושורת פתיח */
  .top{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:6px}
  .logo{display:inline-flex;align-items:center;gap:.6rem}
  .logo img{width:clamp(90px,16vw,140px);height:auto;display:block;filter:drop-shadow(0 2px 6px rgba(0,0,0,.12))}
  .ghost{width:clamp(90px,16vw,140px)} /* לשמירת סימטריה כשהלוגו משמאל/ימין */

  /* תיאור קצר בראש הדף */
  h1{margin:.2rem 0 .1rem;font-size:var(--fs-h1)}
  .intro{margin:0 auto .35rem; max-width:72ch; font-size:var(--fs-sub); color:#1a4b7d}
  .h2{margin:.4rem 0 .1rem; font-size:var(--fs-h2); color:#153b66; font-weight:900}
  .sub{margin:0 0 6px;color:#2f6a9f;font-weight:700;font-size:var(--fs-sub)}

  /* שמש זוהרת */
  .sun{--a:var(--accent); width:clamp(100px, 12vw, 140px); height:clamp(100px, 12vw, 140px);
    margin:4px auto 6px; border-radius:50%;
    background:
      radial-gradient(circle at 50% 50%, #fffbe7 0 42%, transparent 62%),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,.55) 0 32%, transparent 60%),
      radial-gradient(circle at 50% 50%, var(--a) 0 60%, transparent 61%);
    box-shadow: 0 16px 32px rgba(0,0,0,.12), 0 0 46px 9px rgba(46,134,255,.28);
    animation:pulse 3s ease-in-out infinite}
  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}

  /* יהלום 1–2–1 */
  .grid{display:grid; gap:clamp(10px, 1.6vw, 14px); margin:6px auto; width:fit-content;
    grid-template-columns:repeat(3, var(--diam)); grid-template-rows:repeat(3, var(--diam));
    grid-template-areas:". a ." "b . c" ". d ."}
  .cell{width:var(--diam);height:var(--diam)} .a{grid-area:a}.b{grid-area:b}.c{grid-area:c}.d{grid-area:d}

  /* כפתורי בחירה: עיגולי זכוכית עם ריפל */
  .choice{position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center;
    width:100%; height:100%; border:0; border-radius:999px; cursor:pointer; padding:10px; text-align:center; overflow:hidden;
    background: radial-gradient(circle at 35% 30%, rgba(255,255,255,.82), rgba(255,255,255,.56) 70%),
                var(--g, rgba(46,107,255,.08));
    backdrop-filter: blur(12px) saturate(140%); box-shadow:0 8px 22px rgba(0,0,0,.1);
    transition:transform .12s ease}
  .choice:hover{transform:translateY(-1px)} .choice:active{transform:scale(.98)}
  .choice .t{font-weight:900;font-size:clamp(.95rem,.88rem + .35vw,1.08rem)}
  .choice .s{font-size:clamp(.84rem,.8rem + .25vw,.95rem);color:#3b5f9a;margin-top:4px}
  .choice::after{content:"";position:absolute;inset:auto;width:0;height:0;border-radius:50%;
    background:rgba(255,255,255,.6);transform:translate(-50%,-50%);opacity:0;transition:width .35s,height .35s,opacity .35s}
  .choice[data-ripple="1"]::after{width:220px;height:220px;opacity:.35}

  /* אלבום ∞ — מעוגל ומתקפל */
  .note{margin:8px auto 0; width:min(96%, 780px); padding:clamp(8px,1.4vw,12px);
    border-radius:22px; background:linear-gradient(135deg,#fff,#f3f7ff);
    box-shadow:0 16px 32px rgba(0,0,0,.11); text-align:inherit; position:relative; overflow:hidden}
  .note::before{content:"";position:absolute;right:0;top:0;bottom:0;width:14px;background:linear-gradient(180deg,#ffb3ca,#ffd7e8)}
  .note-head{display:flex;align-items:center;justify-content:space-between;gap:10px;cursor:pointer}
  .label{display:inline-flex;align-items:center;gap:.5rem;background:#edf3ff;padding:.45rem .8rem;border-radius:14px;
    font-weight:900;box-shadow:0 6px 16px rgba(0,0,0,.08);font-size:var(--fs-body)}
  .infty{font-weight:900}
  .chev{font-weight:900;color:#3b5f9a;transition:transform .25s}
  .note.open .chev{transform:rotate(180deg)}
  .note-body{max-height:0;overflow:hidden;transition:max-height .35s ease}
  .note.open .note-body{max-height:420px}
  .list{margin:6px 0 0; line-height:1.7; font-weight:800; color:#204b82; font-size:var(--fs-body); min-height:1.7em}
  .muted{color:#2c5c94; font-weight:700; font-style:italic; margin:6px 0 0; font-size:var(--fs-body)}

  /* מודאל סיכום */
  .ov{position:fixed; inset:0; background:rgba(10,20,30,.28); display:none; place-items:center; z-index:9999}
  .modal{background:rgba(255,255,255,.96); backdrop-filter:blur(10px); border-radius:18px; box-shadow:var(--sh);
    padding:clamp(12px,1.6vw,16px); width:min(94vw, 560px); text-align:center}
  .act{display:grid; gap:8px; margin-top:8px}
  .btn{border:0;border-radius:999px;padding:10px 14px;background:#e9f1ff;font-weight:900;color:#103658;cursor:pointer;font-size:var(--fs-body)}
  .btn.sel{outline:3px solid rgba(46,134,255,.35)}
  .cta{border:0;border-radius:999px;padding:10px 16px;background:linear-gradient(180deg,#eef4ff,#e3ecff);
    font-weight:900;color:#123b66;box-shadow:var(--sh);cursor:pointer;font-size:var(--fs-body)}
</style>
</head>
<body>
  <div class="letters" aria-hidden="true">אבגדהוזחט · זרימה · לב פתוח · יחד</div>

  <main class="card" role="main" aria-label="HeartWays Demo">
    <div class="top">
      <div class="logo" aria-label="HeartWays">
        <picture>
          <source srcset="assets/logo.svg" type="image/svg+xml" />
          <img src="assets/logo.png" alt="HeartWays" loading="eager" decoding="async" />
        </picture>
      </div>
      <div class="ghost" aria-hidden="true"></div>
    </div>

    <!-- תיאור קצר בראש -->
    <h1>מה זה HeartWays?</h1>
    <p class="intro">
      משחק־לב קצר שמכוון אותך לצעד קטן שמרגיש נכון עכשיו — שמחה, יצירה, שקט או חיבור.
      בוחרים פתיחה, מקבלים השראה ושלוש הצעות פעולה — ושומרים את הדרך לאלבום ∞.
    </p>
    <div class="h2">איך בא לך להתחיל?</div>
    <p class="sub">בחר/י פתיחה — נציע “כדאי ל…” אישי, ואז “מתגשם · הבא”.</p>

    <div class="sun" id="sun"></div>

    <!-- יהלום 1–2–1 -->
    <section class="grid" id="grid" aria-label="בחירה ראשונה">
      <div class="cell a"></div><div class="cell b"></div><div class="cell c"></div><div class="cell d"></div>
    </section>

    <!-- אלבום ∞ (מתקפל) -->
    <section class="note" id="album">
      <div class="note-head" id="albumHead">
        <span class="label">אלבום <span class="infty">∞</span> · <span id="count">0</span></span>
        <span class="chev">⌄</span>
      </div>
      <div class="note-body" id="albumBody">
        <div class="list" id="list"></div>
        <div class="muted" id="muted">כל בחירה נשמרת אוטומטית — לחצו על הכותרת לפתיחה/סגירה ✦</div>
      </div>
    </section>
  </main>

  <!-- מודאל סיכום עם “כדאי ל–” ו”מתגשם · הבא” -->
  <div class="ov" id="ov" role="dialog" aria-modal="true" aria-labelledby="sumTitle">
    <div class="modal">
      <div class="sun" style="--a:#ffcf66; width:clamp(90px,10vw,120px); height:clamp(90px,10vw,120px); margin:0 auto 8px"></div>
      <h2 id="sumTitle" style="margin:.1rem 0 .25rem; font-size:var(--fs-h2)">נבחר:</h2>
      <p id="sumLine" style="margin:.15rem 0 .5rem; color:#214c83; font-weight:800; font-size:var(--fs-body)"></p>

      <div class="h2" style="font-size:var(--fs-sub);margin:.2rem 0 .2rem;color:#1d4d84">כדאי ל…</div>
      <div class="act">
        <button class="btn" id="act1"></button>
        <button class="btn" id="act2"></button>
        <button class="btn" id="act3"></button>
      </div>

      <div style="margin-top:.6rem">
        <button class="cta" id="commit">מתגשם · הבא</button>
      </div>
    </div>
  </div>

<script>
(() => {
  const $=s=>document.querySelector(s);

  /* שלבים עם פעולות מותאמות וצבעים */
  const STAGES=[
    {k:'להיות',  sub:'שקט עדין',         from:'#FFF1C9', to:'#FFD991', accent:'#CCA24A',
     acts:['נשימה 4–4–4 (60ש׳)','סריקת גוף קצרה','מתיחה/כתיבה 1 דקה'],
     line:n=>`בחרת להיות — רגע של שקט משנה את היום. צעד ${n}.`},
    {k:'לשחק',   sub:'קלילות ותנועה',     from:'#D9FFE7', to:'#A6F4C5', accent:'#2FBF71',
     acts:['ריקוד 30ש׳ לשיר אחד','חיוך/משחקון קטן','3 תנועות גוף חופשיות'],
     line:n=>`בחרת לשחק — קלילות קטנה מזיזה הרים. צעד ${n}.`},
    {k:'ליצור',  sub:'רעיון + צעד ראשון', from:'#EBDFFF', to:'#CAB7FF', accent:'#8B6CF6',
     acts:['רעיון אחד למחברת','2 דק׳ צעד ראשון','שיתוף קצר לפידבק'],
     line:n=>`בחרת ליצור — התחלה טובה היא חצי דרך. צעד ${n}.`},
    {k:'להתחבר', sub:'לב אל לב',          from:'#E7F2FF', to:'#FFD6E6', accent:'#4BA3FF',
     acts:['הודעת לב לאדם אחד','שיחת 5 דק׳','קביעת זמן מפגש'],
     line:n=>`בחרת להתחבר — מילה טובה משנה יום. צעד ${n}.`}
  ];
  const rgba=(h,a)=>{const m=h.slice(1),v=parseInt(m,16);return`rgba(${(v>>16)&255},${(v>>8)&255},${v&255},${a})`};
  const setAccent=x=>document.documentElement.style.setProperty('--accent',x);

  /* אלבום (עד 4, בלי איפוס) */
  const Store={
    key:'hw_album_ready_logo',
    load(){ try { return JSON.parse(localStorage.getItem(this.key)||'[]'); } catch { return []; } },
    save(v){ try { localStorage.setItem(this.key, JSON.stringify(v)); } catch {} },
    push(x){ const l=this.load(); if(l.length<4) l.push(x); this.save(l); return l; }
  };

  /* בונים 4 עיגולים — בחירה אחת בכל פעם */
  ['a','b','c','d'].forEach((area,i)=>{
    const st=STAGES[i], host=document.querySelector('.'+area);
    const b=document.createElement('button'); b.className='choice';
    b.style.setProperty('--g',`linear-gradient(180deg,${rgba(st.from,.92)},${rgba(st.to,.85)})`);
    b.innerHTML=`<div class="t">${st.k}</div><div class="s">${st.sub}</div>`;
    b.addEventListener('click',()=>{ b.setAttribute('data-ripple','1'); setTimeout(()=>b.removeAttribute('data-ripple'),350); onPick(st); });
    host.appendChild(b);
  });

  /* אלבום: קיפול/פתיחה */
  $('#albumHead')?.addEventListener('click', ()=> $('#album').classList.toggle('open'));

  /* מודאל מצב */
  let pending=null, chosenAct=null;

  function onPick(st){
    pending=st; chosenAct=null; setAccent(st.accent);
    const n = Store.load().length + 1;

    $('#sumTitle').textContent = `נבחר: ${st.k}`;
    $('#sumLine').textContent  = `${st.line(n)}\nבחר/י פעולה אחת:`;

    // פעולות “כדאי ל–” (מותאם בחירה)
    ['act1','act2','act3'].forEach((id,i)=>{
      const btn = $('#'+id);
      btn.textContent = st.acts[i];
      btn.classList.remove('sel');
      btn.onclick = () => {
        chosenAct = st.acts[i];
        ['act1','act2','act3'].forEach(x=>$('#'+x).classList.remove('sel'));
        btn.classList.add('sel');
        $('#sumLine').textContent = `נבחר: ${st.k} — כדאי ל${chosenAct.includes('ל')?'':' '} ${chosenAct}`;
      };
    });

    $('#ov').style.display='grid';
  }

  /* מתגשם · הבא — שמירה + הודעת עידוד אישית */
  $('#commit').onclick=()=>{
    if(!pending) return;
    const act = chosenAct || pending.acts[0];
    const entry={t:Date.now(), k:pending.k, accent:pending.accent, act};
    const list=Store.push(entry);

    // עיצוב האלבום לפי הבחירה האחרונה
    $('#album').style.boxShadow = `0 16px 32px ${rgba(pending.accent,.22)}`;

    renderAlbum(list, pending.k, act);
    $('#ov').style.display='none';
    pending=null; chosenAct=null;
  };

  /* אלבום + הודעת עידוד */
  function renderAlbum(list, lastK=null, lastAct=null){
    const out=$('#list'), msg=$('#muted'), cnt=$('#count');
    cnt.textContent = String(list.length);
    out.innerHTML = list.length
      ? list.map((e,i)=>`<span style="color:${e.accent}">${i+1}. ${e.k}</span>`).join(' • ')
      : '';
    if(lastK){
      msg.textContent = `יופי — בחרת ${lastK} ועשית ${lastAct}. צעד קטן שמוביל למסע אינסופי ✦`;
    }else if(list.length===0){
      msg.textContent = 'כל בחירה נשמרת אוטומטית — לחצו על הכותרת לפתיחה/סגירה ✦';
    }else{
      msg.textContent = 'יפה! את/ה בונה דרך קטנה שעושה הבדל. אפשר לבחור עוד ✦';
    }
  }

  // מצב קיים
  renderAlbum(Store.load());
})();
</script>
</body>
</html>
