<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HeartWays — דמו</title>
<meta name="theme-color" content="#eaf6ff" />
<style>
  :root{
    /* רספונסיביות אמיתית */
    --fs-h1: clamp(1.25rem, 1rem + 1.4vw, 1.9rem);
    --fs-sub: clamp(.92rem, .84rem + .6vw, 1.1rem);
    --fs-body: clamp(.95rem, .9rem + .35vw, 1.05rem);
    --diam: clamp(96px, 20vw, 140px);

    --ink:#0e3a5a; --soft:#2f6a9f; --accent:#2e86ff;
    --glass: rgba(255,255,255,.78);
    --sh: 0 12px 28px rgba(0,0,0,.12);
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:linear-gradient(180deg,#eaf6ff,#ffffff); color:var(--ink);
    display:grid; place-items:center; overflow-x:hidden; padding:clamp(10px,2.2vw,20px);
  }

  /* אותיות שקופות בתנועה */
  .letters{
    position:fixed; inset:0; display:grid; place-items:center; pointer-events:none;
    font-weight:900; font-size:15vmin; letter-spacing:.5vmin; opacity:.06; color:#0b2033;
    animation:drift 26s linear infinite; text-align:center; line-height:1.05;
  }
  @keyframes drift{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

  /* כרטיס זכוכית */
  .card{
    position:relative; z-index:1; width:min(96vw, 860px);
    background:var(--glass); backdrop-filter:blur(14px) saturate(140%);
    border-radius:20px; padding:clamp(12px,2vw,18px); box-shadow:var(--sh); text-align:center;
  }
  @supports not ((backdrop-filter: blur(2px)) or (-webkit-backdrop-filter: blur(2px))){
    .card,.choice,.note,.modal{ background:rgba(255,255,255,.96); }
  }

  /* לוגו */
  .top{display:flex;align-items:center;justify-content:space-between;gap:8px}
  .logo{display:inline-flex;align-items:center;gap:.55rem}
  .logo svg{width:clamp(26px,3vw,38px);height:auto;filter:drop-shadow(0 2px 6px rgba(0,0,0,.12))}
  .logo .w{font-weight:900;letter-spacing:.02em;font-size:clamp(.95rem,.9rem + .5vw,1.15rem);color:#14508a}
  .ghost{width:clamp(26px,3vw,38px)} /* שמירת סימטריה */

  h1{margin:.2rem 0 .1rem;font-size:var(--fs-h1)}
  .sub{margin:0 0 8px;color:var(--soft);font-weight:700;font-size:var(--fs-sub)}

  /* שמש זוהרת */
  .sun{
    --a:var(--accent);
    width:clamp(110px, 13vw, 150px); height:clamp(110px, 13vw, 150px);
    margin:6px auto 8px; border-radius:50%;
    background:
      radial-gradient(circle at 50% 50%, #fffbe7 0 42%, transparent 62%),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,.55) 0 32%, transparent 60%),
      radial-gradient(circle at 50% 50%, var(--a) 0 60%, transparent 61%);
    box-shadow: 0 18px 36px rgba(0,0,0,.15), 0 0 50px 10px rgba(46,134,255,.3);
    animation:pulse 3.2s ease-in-out infinite;
  }
  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}

  /* יהלום 1–2–1 */
  .grid{
    display:grid; gap:clamp(10px, 1.8vw, 16px); margin:8px auto; width:fit-content;
    grid-template-columns:repeat(3, var(--diam)); grid-template-rows:repeat(3, var(--diam));
    grid-template-areas:". a ." "b . c" ". d .";
  }
  .cell{width:var(--diam);height:var(--diam)} .a{grid-area:a}.b{grid-area:b}.c{grid-area:c}.d{grid-area:d}

  /* כפתורי בחירה */
  .choice{
    position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center;
    width:100%; height:100%; border:0; border-radius:999px; cursor:pointer; padding:12px; text-align:center; overflow:hidden;
    background: radial-gradient(circle at 35% 30%, rgba(255,255,255,.82), rgba(255,255,255,.56) 70%),
                var(--g, rgba(46,107,255,.08));
    backdrop-filter: blur(12px) saturate(140%); box-shadow:0 8px 22px rgba(0,0,0,.1);
    transition:transform .12s ease;
  }
  .choice:hover{transform:translateY(-1px)} .choice:active{transform:scale(.98)}
  .choice .t{font-weight:900;font-size:clamp(.98rem,.9rem + .35vw,1.12rem)}
  .choice .s{font-size:clamp(.86rem,.82rem + .25vw,.98rem);color:#3b5f9a;margin-top:6px}
  .choice::after{content:"";position:absolute;inset:auto;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.6);transform:translate(-50%,-50%);opacity:0;transition:width .35s,height .35s,opacity .35s}
  .choice[data-ripple="1"]::after{width:220px;height:220px;opacity:.35}

  /* אלבום ∞ נגיש מהתחלה */
  .note{
    margin:10px auto 0; width:min(96%, 780px); padding:clamp(10px,1.5vw,14px);
    border-radius:16px; background:linear-gradient(135deg,#fff,#f3f7ff); box-shadow:0 18px 40px rgba(0,0,0,.12);
    text-align:inherit; position:relative;
  }
  .note::before{content:"";position:absolute;right:0;top:0;bottom:0;width:14px;background:linear-gradient(180deg,#ffb3ca,#ffd7e8)}
  .label{display:inline-flex;align-items:center;gap:.45rem;background:#edf3ff;padding:.4rem .75rem;border-radius:12px;font-weight:900;box-shadow:0 6px 16px rgba(0,0,0,.08);font-size:var(--fs-body)}
  .infty{font-weight:900}
  .list{margin:8px 0 0; line-height:1.8; font-weight:800; color:#204b82; font-size:var(--fs-body); min-height:1.8em}
  .muted{color:#2c5c94; font-weight:700; font-style:italic; margin-top:6px; font-size:var(--fs-body)}
  .row{display:flex;gap:10px;justify-content:center;margin-top:8px;flex-wrap:wrap}
  .pill{border:0;border-radius:999px;padding:10px 14px;background:linear-gradient(180deg,#eef4ff,#e3ecff);font-weight:900;color:#123b66;box-shadow:var(--sh);cursor:pointer;font-size:var(--fs-body)}

  /* מודאל סיכום */
  .ov{position:fixed; inset:0; background:rgba(10,20,30,.28); display:none; place-items:center; z-index:9999}
  .modal{background:rgba(255,255,255,.96); backdrop-filter:blur(10px); border-radius:18px; box-shadow:var(--sh); padding:clamp(12px,1.6vw,16px); width:min(94vw, 560px); text-align:center}
  .act{display:grid; gap:8px; margin-top:10px}
  .btn{border:0;border-radius:999px;padding:10px 14px;background:#e9f1ff;font-weight:900;color:#103658;cursor:pointer;font-size:var(--fs-body)}
</style>
</head>
<body>
  <div class="letters" aria-hidden="true">אבגדהוזחט · זרימה · לב פתוח · יחד</div>

  <main class="card" role="main" aria-label="HeartWays Demo">
    <div class="top">
      <div class="logo" aria-label="HeartWays">
        <svg viewBox="0 0 48 48" aria-hidden="true"><defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="#2e86ff"/><stop offset="1" stop-color="#7cc8ff"/></linearGradient></defs><circle cx="24" cy="24" r="22" fill="url(#g)"/><path d="M16 23c0-3 2.4-5 5.2-5 1.9 0 3.5.9 4.8 2.6 1.3-1.7 2.9-2.6 4.8-2.6 2.8 0 5.2 2 5.2 5 0 5.7-8.2 9.9-10 12-1.8-2.1-10-6.3-10-12Z" fill="#fff"/></svg>
        <span class="w">HeartWays</span>
      </div>
      <div>
        <h1>איך בא לך להתחיל?</h1>
        <p class="sub">בחר/י תחושה — נקפיץ רעיון קטן שמרגיש נכון עכשיו</p>
      </div>
      <div class="ghost" aria-hidden="true"></div>
    </div>

    <div class="sun" id="sun"></div>

    <!-- יהלום 1–2–1 -->
    <section class="grid" id="grid" aria-label="בחירה ראשונה">
      <div class="cell a"></div><div class="cell b"></div><div class="cell c"></div><div class="cell d"></div>
    </section>

    <!-- אלבום פתוח תמיד עם רמז -->
    <section class="note" id="album">
      <span class="label">אלבום <span class="infty">∞</span> · <span id="count">0</span></span>
      <div class="list" id="list"></div>
      <div class="muted" id="muted">כל בחירה נשמרת אוטומטית — אפשר לחזור לבחור מתי שבא ✦</div>
      <div class="row">
        <button class="pill" id="again" hidden>בחירה נוספת</button>
      </div>
    </section>
  </main>

  <!-- מודאל סיכום -->
  <div class="ov" id="ov" role="dialog" aria-modal="true" aria-labelledby="sumTitle">
    <div class="modal">
      <div class="sun" style="--a:#ffcf66; width:clamp(90px,10vw,120px); height:clamp(90px,10vw,120px); margin:0 auto 10px"></div>
      <h2 id="sumTitle" style="margin:.1rem 0 .25rem; font-size:var(--fs-h1)">נבחר:</h2>
      <p id="sumLine" style="margin:.2rem 0 .6rem; color:#214c83; font-weight:800; font-size:var(--fs-body)"></p>
      <div class="act">
        <button class="btn" id="act1"></button>
        <button class="btn" id="act2"></button>
        <button class="btn" id="act3"></button>
        <button class="btn" id="close">מתגשם</button>
      </div>
    </div>
  </div>

<script>
(() => {
  const $=s=>document.querySelector(s);

  /* שלבים עם פעולות מותאמות */
  const STAGES=[
    {k:'להיות',  sub:'שקט עדין',         from:'#FFF1C9', to:'#FFD991', accent:'#CCA24A',
     acts:['נשימה 4–4–4 (60ש׳)','סריקת גוף קצרה','מתיחה/כתיבה 1 דקה'],
     line:n=>`בחרת להיות — רגע של שקט משנה את היום. צעד ${n}.`},
    {k:'לשחק',   sub:'קלילות ותנועה',     from:'#D9FFE7', to:'#A6F4C5', accent:'#2FBF71',
     acts:['ריקוד 30ש׳ לשיר אחד','חיוך/משחקון קטן','3 תנועות גוף חופשיות'],
     line:n=>`בחרת לשחק — קלילות קטנה מזיזה הרים. צעד ${n}.`},
    {k:'ליצור',  sub:'רעיון + צעד ראשון', from:'#EBDFFF', to:'#CAB7FF', accent:'#8B6CF6',
     acts:['רעייון אחד למחברת','2 דק׳ צעד ראשון','שיתוף קצר לפידבק'],
     line:n=>`בחרת ליצור — התחלה טובה היא חצי דרך. צעד ${n}.`},
    {k:'להתחבר', sub:'לב אל לב',          from:'#E7F2FF', to:'#FFD6E6', accent:'#4BA3FF',
     acts:['הודעת לב לאדם אחד','שיחת 5 דק׳','קביעת זמן מפגש'],
     line:n=>`בחרת להתחבר — מילה טובה משנה יום. צעד ${n}.`}
  ];
  const rgba=(h,a)=>{const m=h.slice(1),v=parseInt(m,16);return`rgba(${(v>>16)&255},${(v>>8)&255},${v&255},${a})`};
  const setAccent=x=>document.documentElement.style.setProperty('--accent',x);

  /* אלבום (עד 4, בלי איפוס) */
  const Store={
    key:'hw_album_last',
    load(){ try { return JSON.parse(localStorage.getItem(this.key)||'[]'); } catch { return []; } },
    save(v){ try { localStorage.setItem(this.key, JSON.stringify(v)); } catch {} },
    push(x){ const l=this.load(); if(l.length<4) l.push(x); this.save(l); return l; }
  };

  /* בונים 4 עיגולים */
  ['a','b','c','d'].forEach((area,i)=>{
    const st=STAGES[i], host=document.querySelector('.'+area);
    const b=document.createElement('button'); b.className='choice';
    b.style.setProperty('--g',`linear-gradient(180deg,${rgba(st.from,.92)},${rgba(st.to,.85)})`);
    b.innerHTML=`<div class="t">${st.k}</div><div class="s">${st.sub}</div>`;
    b.addEventListener('click',()=>{ b.setAttribute('data-ripple','1'); setTimeout(()=>b.removeAttribute('data-ripple'),350); onPick(st); });
    host.appendChild(b);
  });

  /* בחירה → מודאל סיכום → שמירה */
  let pending=null;
  function onPick(st){
    pending=st; setAccent(st.accent);
    const n = Store.load().length + 1;
    $('#sumTitle').textContent = `נבחר: ${st.k}`;
    $('#sumLine').textContent  = st.line(n);
    // פעולות מותאמות
    $('#act1').textContent = st.acts[0];
    $('#act2').textContent = st.acts[1];
    $('#act3').textContent = st.acts[2];
    // רמז פעולה בלחיצה
    ['act1','act2','act3'].forEach((id,i)=>{
      $('#'+id).onclick = ()=>{ $('#sumLine').textContent = `מעולה — ${st.acts[i]} עכשיו.`; };
    });
    $('#ov').style.display='grid';
  }

  /* סגירה ושמירה */
  $('#close').onclick=()=>{
    if(!pending) return;
    const list=Store.push({t:Date.now(), k:pending.k, accent:pending.accent});
    $('#ov').style.display='none'; renderAlbum(list); pending=null;
  };

  /* אלבום נגיש + עידוד סיום */
  function renderAlbum(list){
    const out=$('#list'), msg=$('#muted'), cnt=$('#count');
    cnt.textContent = String(list.length);
    out.innerHTML = list.length ? list.map((e,i)=>`${i+1}. ${e.k}`).join(' • ') : '';
    if(list.length===0){
      msg.textContent = 'כל בחירה נשמרת אוטומטית — אפשר לחזור לבחור מתי שבא ✦';
      $('#again').hidden = true;
    }else if(list.length<4){
      msg.textContent = 'יפה! את/ה בונה דרך קטנה שעושה הבדל. אפשר לבחור עוד ✦';
      $('#again').hidden = false;
    }else{
      msg.textContent = 'יפה! הדמו נתן טעם של מסע. עוד קצת — והשער המלא נפתח ✦';
      $('#again').hidden = false; // עדיין מאפשרים בחירה נוספת/רענון
    }
  }
  $('#again').onclick=()=>location.reload();

  /* אם היו בחירות קודמות */
  renderAlbum(Store.load());
})();
</script>
</body>
</html>
