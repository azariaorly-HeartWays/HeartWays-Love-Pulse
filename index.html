<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HeartWays â€” ×“××• ×§×œ×™×œ</title>
<style>
  :root{
    --bg1:#eaf6ff; --bg2:#ffffff; --ink:#0e3a5a; --soft:#2f6a9f; --accent:#2e86ff;
    --glass: rgba(255,255,255,.78); --sh: 0 12px 28px rgba(0,0,0,.12);
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:linear-gradient(180deg,var(--bg1),var(--bg2)); color:var(--ink);
    display:grid; place-items:center; overflow-x:hidden; padding:16px;
  }
  /* ×¨×§×¢ ××•×ª×™×•×ª ×’×“×•×œ ×•×©×§×•×£, ×‘×ª× ×•×¢×” ××™×˜×™×ª */
  .letters{
    position:fixed; inset:0; display:grid; place-items:center; pointer-events:none;
    font-weight:900; font-size:16vmin; letter-spacing:.4vmin; opacity:.06; color:#0b2033;
    animation: drift 28s linear infinite;
  }
  @keyframes drift{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

  /* ×›×¨×˜×™×¡ ××¨×›×–×™ (×œ×™×§×•×•×™×“-×’×œ××¡) */
  .card{
    position:relative; z-index:1; width:min(92vw,720px);
    background:var(--glass); backdrop-filter:blur(14px) saturate(140%);
    border-radius:20px; padding:18px; box-shadow:var(--sh); text-align:center;
  }
  h1{margin:6px 0 2px; font-size:1.6rem}
  .sub{margin:0 0 10px; color:var(--soft); font-weight:700}

  /* ×©××© ×–×•×”×¨×ª (×‘××§×•× ×›×•×›×‘) */
  .sun{
    --a: var(--accent);
    width:140px; height:140px; margin:10px auto 12px; border-radius:50%;
    background:
      radial-gradient(circle at 50% 50%, #fffbe7 0 42%, rgba(255,255,255,0) 62%),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,.55) 0 30%, rgba(255,255,255,0) 60%),
      radial-gradient(circle at 50% 50%, var(--a) 0 60%, rgba(255,255,255,0) 61%);
    mask-image: radial-gradient(circle at 50% 50%, #000 56%, transparent 57%),
                conic-gradient(from 0deg, #000 0 8deg, transparent 8deg 38deg);
    -webkit-mask-composite: destination-over; mask-composite: exclude;
    box-shadow: 0 20px 40px rgba(0,0,0,.16), 0 0 60px 10px rgba(46,134,255,.35);
    animation: pulse 3.2s ease-in-out infinite;
  }
  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}

  /* ×›×¤×ª×•×¨×™ ×‘×—×™×¨×” â€“ ×¨×™×¤×œ ×¨×š */
  .choices{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin:8px 0 6px}
  .btn{
    position:relative; border:0; border-radius:999px; padding:12px 18px;
    background:linear-gradient(180deg,#eaf2ff,#dfe9ff); color:#103658; font-weight:900;
    cursor:pointer; box-shadow:var(--sh); overflow:hidden; transition:transform .12s;
  }
  .btn:hover{transform:translateY(-1px)}
  .btn:active{transform:scale(.98)}
  .btn::after{
    content:""; position:absolute; inset:auto; width:0; height:0; border-radius:50%;
    background:rgba(255,255,255,.6); transform:translate(-50%,-50%); opacity:.0;
    transition: width .35s ease, height .35s ease, opacity .35s ease;
  }
  .btn:focus-visible{outline:3px solid rgba(46,134,255,.35)}
  .btn[data-ripple="1"]::after{ width:220px; height:220px; opacity:.35 }

  /* ××œ×‘×•× â€” ××—×‘×¨×ª ×¦×‘×¢×•× ×™×ª ×¢× âˆ */
  .notebook{
    margin:12px auto 4px; width:min(92%,560px); height:auto; padding:14px 16px;
    border-radius:16px; background:linear-gradient(135deg,#fff,#f3f7ff);
    box-shadow:0 18px 40px rgba(0,0,0,.12); text-align:inherit; position:relative; overflow:hidden;
  }
  .notebook::before{
    content:""; position:absolute; right:0; top:0; bottom:0; width:16px;
    background:linear-gradient(180deg,#ffb3ca,#ffd7e8);
  }
  .label{display:inline-flex;align-items:center;gap:.4rem;background:#edf3ff;padding:.45rem .8rem;border-radius:12px;font-weight:900;box-shadow:0 6px 16px rgba(0,0,0,.08)}
  .infty{font-weight:900}

  .list{margin:8px 0 0; line-height:1.7; font-weight:800; color:#204b82}
  .enc{margin:6px 0 0; color:#2c5c94; font-weight:700; font-style:italic}

  .row{display:flex;gap:10px;justify-content:center;margin-top:8px;flex-wrap:wrap}
  .pill{border:0;border-radius:999px;padding:12px 18px;background:linear-gradient(180deg,#eef4ff,#e3ecff);font-weight:900;color:#123b66;box-shadow:var(--sh);cursor:pointer}
</style>
</head>
<body>
  <div class="letters" aria-hidden="true">××‘×’×“×”×•×–×—×˜ Â· ×–×¨×™××” Â· ×œ×‘ ×¤×ª×•×— Â· ×™×—×“</div>

  <main class="card" role="main" aria-label="HeartWays Demo">
    <h1>××™×š ×‘× ×œ×š ×œ×”×ª×—×™×œ?</h1>
    <p class="sub">×‘×—×¨/×™ ×ª×—×•×©×” â€” × ×§×¤×™×¥ ×¨×¢×™×•×Ÿ ×§×˜×Ÿ ×©××¨×’×™×© × ×›×•×Ÿ ×¢×›×©×™×•</p>

    <div class="sun" id="sun"></div>

    <div class="choices" id="choices">
      <button class="btn" data-k="×©××—×”">×©××—×”</button>
      <button class="btn" data-k="×”×©×¨××”">×”×©×¨××”</button>
      <button class="btn" data-k="×¨×•×’×¢">×¨×•×’×¢</button>
      <button class="btn" data-k="×¡×§×¨× ×•×ª">×¡×§×¨× ×•×ª</button>
    </div>

    <section class="notebook" id="album" hidden>
      <span class="label">××œ×‘×•× <span class="infty">âˆ</span></span>
      <div class="list" id="list"></div>
      <div class="enc" id="enc"></div>
    </section>

    <div class="row">
      <button class="pill" id="peek" hidden>ğŸ“” ×¤×ª×—×™ ××œ×‘×•×</button>
      <button class="pill" id="again" hidden>×‘×—×™×¨×” × ×•×¡×¤×ª</button>
    </div>
  </main>

<script>
(() => {
  const $ = s => document.querySelector(s);
  const $$ = s => [...document.querySelectorAll(s)];

  // ××œ×‘×•× (×¢×“ 4 ×‘×—×™×¨×•×ª)
  const Store = {
    key: 'hw_album_demo',
    load(){ try { return JSON.parse(localStorage.getItem(this.key)||'[]'); } catch { return []; } },
    save(v){ try { localStorage.setItem(this.key, JSON.stringify(v)); } catch {} },
    push(x){ const l=this.load(); if(l.length<4) l.push(x); this.save(l); return l; }
  };

  // ×¨×™×¤×œ ×¨×š ×¢×œ ×›×¤×ª×•×¨×™×
  $$('#choices .btn').forEach(b=>{
    b.addEventListener('click', e=>{
      b.setAttribute('data-ripple','1');
      setTimeout(()=>b.removeAttribute('data-ripple'),350);
      onChoose(b.dataset.k);
    });
  });

  function onChoose(item){
    // ×©×•××¨ ×‘××œ×‘×•× (×¢×“ 4)
    const list = Store.push({ t: Date.now(), k: item });

    // ×—×œ×•×Ÿ ×§×˜×Ÿ ×¢× ×¡×™×›×•× ×•××•×¤×¦×™×•×ª ×¤×¢×•×œ×”
    const w = window.open('', '_blank', 'width=420,height=360');
    if (w && !w.closed) {
      w.document.write(`
        <!doctype html><meta charset="utf-8">
        <title>× ×‘×—×¨: ${item}</title>
        <style>
          body{font-family:system-ui,Segoe UI,Arial;margin:0;display:grid;place-items:center;height:100vh;background:linear-gradient(180deg,#f6fbff,#ffffff);color:#103658;text-align:center}
          .box{background:#ffffffcc;backdrop-filter:blur(8px);border-radius:16px;padding:20px;box-shadow:0 12px 28px rgba(0,0,0,.12);max-width:360px}
          h2{margin:.2rem 0 .6rem}
          .ops{display:grid;gap:8px;margin-top:10px}
          button{border:0;border-radius:999px;padding:10px 14px;background:#e9f1ff;font-weight:800;color:#103658;cursor:pointer}
        </style>
        <div class="box">
          <h2>×‘×—×¨×ª: ${item}</h2>
          <p>×”××©×š ×§×œ×™×œ ×•××•××œ×¥:</p>
          <div class="ops">
            <button onclick="alert('× ×©×™××” 60 ×©× ×™×•×ª â€“ ×”×ª×—×œ×” ×¨×›×”')">× ×©×™××” ×§×¦×¨×”</button>
            <button onclick="alert('×¨×©××™ ×¨×¢×™×•×Ÿ ××—×“ ×§×˜×Ÿ')">×¨×¢×™×•×Ÿ ×¨××©×•×Ÿ</button>
            <button onclick="alert('×”×•×“×¢×ª ×œ×‘ ×œ××“× ××—×“')">×—×™×‘×•×¨ ×§×¦×¨</button>
            <button onclick="window.close()">×—×–×¨×” ×œ×“××•</button>
          </div>
        </div>
      `);
      w.document.close();
    }

    // ×¢×“×›×•×Ÿ ××œ×‘×•× ×‘×“×£ ×”×¨××©×™
    renderAlbum(list);
    $('#peek').hidden = false;
    $('#again').hidden = false;
  }

  function renderAlbum(list){
    const album = $('#album'), out = $('#list'), enc = $('#enc');
    album.hidden = false;
    out.innerHTML = list.map((e,i)=> `${i+1}. ${e.k}`).join(' â€¢ ');
    enc.textContent = list.length < 4
      ? '×™×¤×”! ×¢×•×“ × ×’×™×¢×” ×©×œ ×¡×§×¨× ×•×ª ×•×ª×’×œ×• ×©×¢×¨×™× × ×•×¡×¤×™× âœ¦'
      : '×”×“××• ××œ× â€” ××¤×©×¨ ×œ××¤×¡ ×•×œ×”×ª×—×™×œ ××¡×œ×•×œ ×—×“×©';
  }

  // ×›×¤×ª×•×¨×™ ×ª×—×ª×™×ª
  $('#peek').addEventListener('click', () => {
    const list = Store.load();
    if (!list.length) return;
    alert('××œ×‘×•× âˆ\n' + list.map((e,i)=>`${i+1}. ${e.k}`).join('\n'));
  });

  $('#again').addEventListener('click', () => location.reload());

  // ×˜×¢×™× ×” ×¨××©×•× ×™×ª â€” ×× ×™×© ×›×‘×¨ ××œ×‘×•×
  const existing = Store.load();
  if (existing.length){ renderAlbum(existing); $('#peek').hidden=false; $('#again').hidden=false; }
})();
</script>
</body>
</html>
